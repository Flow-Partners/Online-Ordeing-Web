{
  "version": 3,
  "sources": ["projects/client/src/app/features/auth/reset-password/reset-password.component.ts", "projects/client/src/app/features/auth/reset-password/reset-password.component.html"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { Router, ActivatedRoute, RouterModule } from '@angular/router';\nimport { AuthService } from '@core/services/auth.service';\nimport { NotificationService } from '@core/services/notification.service';\n\n@Component({\n  selector: 'app-reset-password',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, RouterModule],\n  templateUrl: './reset-password.component.html',\n  styleUrls: ['./reset-password.component.scss']\n})\nexport class ResetPasswordComponent implements OnInit {\n  resetPasswordForm!: FormGroup;\n  isSubmitting = false;\n  showPassword = false;\n  showConfirmPassword = false;\n  token = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private notificationService: NotificationService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    // Get token from route params\n    this.token = this.route.snapshot.params['token'];\n    \n    if (!this.token) {\n      this.notificationService.error('Invalid reset link');\n      this.router.navigate(['/auth/login']);\n      return;\n    }\n\n    this.initForm();\n  }\n\n  initForm(): void {\n    this.resetPasswordForm = this.fb.group({\n      password: ['', [Validators.required, Validators.minLength(8)]],\n      confirmPassword: ['', [Validators.required]]\n    }, {\n      validators: this.passwordMatch\n    });\n  }\n\n  get f() {\n    return this.resetPasswordForm.controls;\n  }\n\n  /**\n   * Custom validator for password match\n   */\n  passwordMatch(control: AbstractControl): ValidationErrors | null {\n    const password = control.get('password');\n    const confirmPassword = control.get('confirmPassword');\n\n    if (!password || !confirmPassword) return null;\n\n    return password.value === confirmPassword.value ? null : { passwordMismatch: true };\n  }\n\n  togglePasswordVisibility(): void {\n    this.showPassword = !this.showPassword;\n  }\n\n  toggleConfirmPasswordVisibility(): void {\n    this.showConfirmPassword = !this.showConfirmPassword;\n  }\n\n  onSubmit(): void {\n    if (this.resetPasswordForm.invalid) {\n      Object.keys(this.resetPasswordForm.controls).forEach(key => {\n        this.resetPasswordForm.controls[key].markAsTouched();\n      });\n      return;\n    }\n\n    this.isSubmitting = true;\n    const data = {\n      token: this.token,\n      password: this.resetPasswordForm.value.password,\n      confirmPassword: this.resetPasswordForm.value.confirmPassword\n    };\n\n    this.authService.resetPassword(data).subscribe({\n      next: (response) => {\n        if (response.success) {\n          this.router.navigate(['/auth/login']);\n        }\n      },\n      error: (error) => {\n        this.isSubmitting = false;\n        this.notificationService.error(\n          error.message || 'Failed to reset password. Please try again.'\n        );\n      },\n      complete: () => {\n        this.isSubmitting = false;\n      }\n    });\n  }\n}\n\n", "<div class=\"reset-password-container\">\n  <h3 class=\"text-center mb-3\">Reset Password</h3>\n  <p class=\"text-center text-muted mb-4\">\n    Please enter your new password.\n  </p>\n\n  <form [formGroup]=\"resetPasswordForm\" (ngSubmit)=\"onSubmit()\">\n    <!-- Password Field -->\n    <div class=\"mb-3\">\n      <label for=\"password\" class=\"form-label\">New Password</label>\n      <div class=\"input-group\">\n        <span class=\"input-group-text\">\n          <i class=\"bi bi-lock\"></i>\n        </span>\n        <input\n          [type]=\"showPassword ? 'text' : 'password'\"\n          class=\"form-control\"\n          id=\"password\"\n          formControlName=\"password\"\n          placeholder=\"Enter new password\"\n          [class.is-invalid]=\"f['password'].invalid && f['password'].touched\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          type=\"button\"\n          (click)=\"togglePasswordVisibility()\">\n          <i class=\"bi\" [class.bi-eye]=\"!showPassword\" [class.bi-eye-slash]=\"showPassword\"></i>\n        </button>\n      </div>\n      <div class=\"invalid-feedback d-block\" *ngIf=\"f['password'].invalid && f['password'].touched\">\n        <span *ngIf=\"f['password'].errors?.['required']\">Password is required</span>\n        <span *ngIf=\"f['password'].errors?.['minlength']\">Password must be at least 8 characters</span>\n      </div>\n    </div>\n\n    <!-- Confirm Password Field -->\n    <div class=\"mb-4\">\n      <label for=\"confirmPassword\" class=\"form-label\">Confirm New Password</label>\n      <div class=\"input-group\">\n        <span class=\"input-group-text\">\n          <i class=\"bi bi-lock\"></i>\n        </span>\n        <input\n          [type]=\"showConfirmPassword ? 'text' : 'password'\"\n          class=\"form-control\"\n          id=\"confirmPassword\"\n          formControlName=\"confirmPassword\"\n          placeholder=\"Confirm new password\"\n          [class.is-invalid]=\"(f['confirmPassword'].invalid && f['confirmPassword'].touched) || \n                              (resetPasswordForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched)\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          type=\"button\"\n          (click)=\"toggleConfirmPasswordVisibility()\">\n          <i class=\"bi\" [class.bi-eye]=\"!showConfirmPassword\" [class.bi-eye-slash]=\"showConfirmPassword\"></i>\n        </button>\n      </div>\n      <div class=\"invalid-feedback d-block\" \n           *ngIf=\"(f['confirmPassword'].invalid && f['confirmPassword'].touched) || \n                  (resetPasswordForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched)\">\n        <span *ngIf=\"f['confirmPassword'].errors?.['required']\">Please confirm your password</span>\n        <span *ngIf=\"resetPasswordForm.errors?.['passwordMismatch']\">Passwords do not match</span>\n      </div>\n    </div>\n\n    <!-- Submit Button -->\n    <button\n      type=\"submit\"\n      class=\"btn btn-primary w-100 mb-3\"\n      [disabled]=\"isSubmitting\">\n      <span *ngIf=\"!isSubmitting\">Reset Password</span>\n      <span *ngIf=\"isSubmitting\">\n        <span class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n        Resetting...\n      </span>\n    </button>\n\n    <!-- Back to Login -->\n    <div class=\"text-center\">\n      <a routerLink=\"/auth/login\" class=\"text-decoration-none\">\n        <i class=\"bi bi-arrow-left me-2\"></i>\n        Back to Login\n      </a>\n    </div>\n  </form>\n</div>\n\n"],
  "mappings": "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",
  "names": []
}
